<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>is indexing to be offset · RollingFunctions.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://jeffreysarnoff.github.io/RollingFunctions.jl/stable/tech/windows/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RollingFunctions.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Use</span><ul><li><a class="tocitem" href="../../use/rolloverdata/">Rolling over windowed data</a></li><li><a class="tocitem" href="../../use/rolling_examples/">Rolling examples (basic)</a></li><li><a class="tocitem" href="../../use/runoverdata/">Running over windowed data</a></li><li><a class="tocitem" href="../../use/running_examples/">Running examples (basic)</a></li></ul></li><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../intro/padding/">Roll over vectors (padding)</a></li><li><a class="tocitem" href="../../intro/matrix_rolling/">Roll over matricies (basics)</a></li><li><a class="tocitem" href="../../intro/matrix_padding/">Roll over matrices (padding)</a></li><li><a class="tocitem" href="../../intro/multicolumn_rolling/">Roll over multicolumn data (basics)</a></li><li><a class="tocitem" href="../../intro/multicolumn_padding/">Roll over multicolumn data (padding)</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../api/roll/">roll</a></li><li><a class="tocitem" href="../../api/run/">run</a></li></ul></li><li><span class="tocitem">Technical Reference</span><ul><li><a class="tocitem" href="../windowmath/">windowing math</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li><li><a class="tocitem" href="../../thanks/">Thanks</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>is indexing to be offset</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>is indexing to be offset</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JeffreySarnoff/RollingFunctions.jl/blob/main/docs/src/tech/windows.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Window-Representations"><a class="docs-heading-anchor" href="#Window-Representations">Window Representations</a><a id="Window-Representations-1"></a><a class="docs-heading-anchor-permalink" href="#Window-Representations" title="Permalink"></a></h2><p>Multiple structs are used internally to model the constructive details and applicative rules for a Window over client data. All inherit from AbstractWindowing</p><p>abstract type AbstractWindow end</p><p>@kwdef mutable struct BasicWindow &lt;: AbstractWindow     const length::Int              # span of contiguous elements</p><pre><code class="nohighlight hljs">direct::Bool=true              # process from low indices to high

const onlywhole::Bool=true     # prohibit partial window
const drop_first::Bool=true    # omit results at start¹, if needed²
const drop_final::Bool=false   # omit results at finish¹, if needed²</code></pre><p>end</p><p>@kwdef mutable struct Window{T} &lt;: AbstractWindow     const length::Int              # span of contiguous elements</p><pre><code class="nohighlight hljs">offset_first::Int=0            # start  at index offset_first + 1
offset_final::Int=0            # finish at index length - offset_final + 1

pad_first::Int=0               # pad with this many paddings at start
pad_final::Int=0               # pad with this many padding at end
const padding::T=nothing       # use this as the value with which to pad

const direct::Bool=true        # process from low indices to high

const onlywhole::Bool=true     # prohibit partial windows
const drop_first::Bool=true    # omit results at start¹, if needed²
const drop_final::Bool=false   # omit results at finish¹, if needed²

const trim_first::Bool=false   # use partial windowing over first elements, if needed
const trim_final::Bool=false   # use partial windowing over final elements, if needed

const fill_first::Bool=true    # a simpler, often faster alternative to trim
const fill_final::Bool=false   # a simpler, often faster alternative to trim</code></pre><p>end</p><h1 id="is-indexing-to-be-offset"><a class="docs-heading-anchor" href="#is-indexing-to-be-offset">is indexing to be offset</a><a id="is-indexing-to-be-offset-1"></a><a class="docs-heading-anchor-permalink" href="#is-indexing-to-be-offset" title="Permalink"></a></h1><p>notoffset(w::Window) = iszero(w.offset<em>first) &amp;&amp; iszero(w.offset</em>final) isoffset(w::Window) = !notoffset(w)</p><h1 id="specifying-both-a-leading-offset-and-a-trailing-offset-is-supported"><a class="docs-heading-anchor" href="#specifying-both-a-leading-offset-and-a-trailing-offset-is-supported">&gt;&gt; specifying both a leading offset and a trailing offset is supported</a><a id="specifying-both-a-leading-offset-and-a-trailing-offset-is-supported-1"></a><a class="docs-heading-anchor-permalink" href="#specifying-both-a-leading-offset-and-a-trailing-offset-is-supported" title="Permalink"></a></h1><h1 id="is-there-to-be-padding"><a class="docs-heading-anchor" href="#is-there-to-be-padding">is there to be padding</a><a id="is-there-to-be-padding-1"></a><a class="docs-heading-anchor-permalink" href="#is-there-to-be-padding" title="Permalink"></a></h1><p>notpadded(w::Window) = iszero(w.pad<em>first) &amp;&amp; iszero(w.pad</em>final) ispadded(w::Window) = !notpadded(w)</p><h1 id="it-is-an-error-to-specify-both-a-leading-padding-and-a-trailing-padding"><a class="docs-heading-anchor" href="#it-is-an-error-to-specify-both-a-leading-padding-and-a-trailing-padding">&gt;&gt; it is an error to specify both a leading padding and a trailing padding</a><a id="it-is-an-error-to-specify-both-a-leading-padding-and-a-trailing-padding-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-specify-both-a-leading-padding-and-a-trailing-padding" title="Permalink"></a></h1><h1 id="is-the-information-processed-in-direct-(lower-index-to-higher-index)-order"><a class="docs-heading-anchor" href="#is-the-information-processed-in-direct-(lower-index-to-higher-index)-order">is the information processed in direct (lower index to higher index) order</a><a id="is-the-information-processed-in-direct-(lower-index-to-higher-index)-order-1"></a><a class="docs-heading-anchor-permalink" href="#is-the-information-processed-in-direct-(lower-index-to-higher-index)-order" title="Permalink"></a></h1><p>isdirect(w::Window) = w.direct</p><h1 id="are-only-complete-window-spans-to-be-allowed"><a class="docs-heading-anchor" href="#are-only-complete-window-spans-to-be-allowed">are only complete window spans to be allowed</a><a id="are-only-complete-window-spans-to-be-allowed-1"></a><a class="docs-heading-anchor-permalink" href="#are-only-complete-window-spans-to-be-allowed" title="Permalink"></a></h1><p>onlywhole(w::Window) = w.onlywhole allowpartial(w::Window) = !onlywhole(w)</p><h1 id="is-dropping-incomplete-results-expected"><a class="docs-heading-anchor" href="#is-dropping-incomplete-results-expected">is dropping incomplete results expected</a><a id="is-dropping-incomplete-results-expected-1"></a><a class="docs-heading-anchor-permalink" href="#is-dropping-incomplete-results-expected" title="Permalink"></a></h1><p>isdropping(w::Window) = (w.drop<em>first ⊻ w.drop</em>final) notdropping(w::Window) = !isdropping(w)</p><h1 id="it-is-an-error-to-select-bothdrop*first-anddrop*final"><a class="docs-heading-anchor" href="#it-is-an-error-to-select-bothdrop*first-anddrop*final">&gt;&gt; it is an error to select bothdrop<em>first anddrop</em>final</a><a id="it-is-an-error-to-select-bothdrop*first-anddrop*final-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-select-bothdrop*first-anddrop*final" title="Permalink"></a></h1><h1 id="is-trimmed-windowing-to-be-allowed"><a class="docs-heading-anchor" href="#is-trimmed-windowing-to-be-allowed">is trimmed windowing to be allowed</a><a id="is-trimmed-windowing-to-be-allowed-1"></a><a class="docs-heading-anchor-permalink" href="#is-trimmed-windowing-to-be-allowed" title="Permalink"></a></h1><p>maytrim(w::Window) = allowspartials(w) &amp;&amp; (w.trim<em>first ⊻ w.trim</em>last)</p><h1 id="it-is-an-error-to-select-bothtrim*first-andtrim*final"><a class="docs-heading-anchor" href="#it-is-an-error-to-select-bothtrim*first-andtrim*final">&gt;&gt; it is an error to select bothtrim<em>first andtrim</em>final</a><a id="it-is-an-error-to-select-bothtrim*first-andtrim*final-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-select-bothtrim*first-andtrim*final" title="Permalink"></a></h1><h1 id="it-is-an-error-to-select-eithertrim-and-select-anyfill"><a class="docs-heading-anchor" href="#it-is-an-error-to-select-eithertrim-and-select-anyfill">&gt;&gt; it is an error to select eithertrim and select anyfill</a><a id="it-is-an-error-to-select-eithertrim-and-select-anyfill-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-select-eithertrim-and-select-anyfill" title="Permalink"></a></h1><h1 id="is-filled-windowing-to-be-allowed"><a class="docs-heading-anchor" href="#is-filled-windowing-to-be-allowed">is filled windowing to be allowed</a><a id="is-filled-windowing-to-be-allowed-1"></a><a class="docs-heading-anchor-permalink" href="#is-filled-windowing-to-be-allowed" title="Permalink"></a></h1><p>mayfill(w::Window) = allowspartials(w) &amp;&amp; (w.fill<em>first ⊻ w.fill</em>last)</p><h1 id="it-is-an-error-to-select-bothfill*first-andfill*final"><a class="docs-heading-anchor" href="#it-is-an-error-to-select-bothfill*first-andfill*final">&gt;&gt; it is an error to select bothfill<em>first andfill</em>final</a><a id="it-is-an-error-to-select-bothfill*first-andfill*final-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-select-bothfill*first-andfill*final" title="Permalink"></a></h1><h1 id="it-is-an-error-to-select-eitherfill-and-select-anytrim"><a class="docs-heading-anchor" href="#it-is-an-error-to-select-eitherfill-and-select-anytrim">&gt;&gt; it is an error to select eitherfill and select anytrim</a><a id="it-is-an-error-to-select-eitherfill-and-select-anytrim-1"></a><a class="docs-heading-anchor-permalink" href="#it-is-an-error-to-select-eitherfill-and-select-anytrim" title="Permalink"></a></h1><p>@kwdef mutable struct WeightedWindow{Pad,F,T} &lt;: AbstractWindow     window::Window{Pad}          # struct annotated above     weightfun::F=nothing         # a function that yields the weights     weighting::Vector{T}         # the weights collected end</p><h1 id="the-weight-function-is-optional"><a class="docs-heading-anchor" href="#the-weight-function-is-optional">the weight function is optional</a><a id="the-weight-function-is-optional-1"></a><a class="docs-heading-anchor-permalink" href="#the-weight-function-is-optional" title="Permalink"></a></h1><h1 id="if-you-specify-a-weight-function,-theweighting-will-be-autogenerated"><a class="docs-heading-anchor" href="#if-you-specify-a-weight-function,-theweighting-will-be-autogenerated">if you specify a weight function, theweighting will be autogenerated</a><a id="if-you-specify-a-weight-function,-theweighting-will-be-autogenerated-1"></a><a class="docs-heading-anchor-permalink" href="#if-you-specify-a-weight-function,-theweighting-will-be-autogenerated" title="Permalink"></a></h1><h1 id="weightings-are-checked-to-ensure-they-sum-to-1"><a class="docs-heading-anchor" href="#weightings-are-checked-to-ensure-they-sum-to-1">&gt;&gt; weightings are checked to ensure they sum to 1</a><a id="weightings-are-checked-to-ensure-they-sum-to-1-1"></a><a class="docs-heading-anchor-permalink" href="#weightings-are-checked-to-ensure-they-sum-to-1" title="Permalink"></a></h1><hr/><pre><code class="nohighlight hljs">¹ &quot;at start&quot;  is from the lowest  indices wheredirect == true
              is from the highest indices wheredirect == false

  &quot;at finish&quot; is from the highest indices wheredirect == true
              is from the lowest  indices wheredirect == false

² &quot;if needed&quot; is true if and only ifonlywhole == true and
             !iszero(rem(data_length, window_length))</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 12 February 2023 06:39">Sunday 12 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
